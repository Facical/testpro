<Window x:Class="testpro.Dialogs.ObjectTypeSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="객체 타입 선택" 
        Height="600" 
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 단계 표시 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,20">
            <Border x:Name="Step1Border" Width="30" Height="30" CornerRadius="15" 
                    Background="DodgerBlue" Margin="5">
                <TextBlock Text="1" HorizontalAlignment="Center" VerticalAlignment="Center" 
                          Foreground="White" FontWeight="Bold"/>
            </Border>
            <Rectangle Width="50" Height="2" Fill="Gray" VerticalAlignment="Center"/>
            <Border x:Name="Step2Border" Width="30" Height="30" CornerRadius="15" 
                    Background="LightGray" Margin="5">
                <TextBlock Text="2" HorizontalAlignment="Center" VerticalAlignment="Center" 
                          Foreground="White" FontWeight="Bold"/>
            </Border>
        </StackPanel>

        <!-- 컨텐츠 영역 -->
        <Grid Grid.Row="1">
            <!-- Step 1: 타입 선택 -->
            <ScrollViewer x:Name="Step1Panel" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="감지된 객체의 타입을 선택하세요:" 
                              FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
                    <ItemsControl x:Name="ObjectTypesList">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Button Click="ObjectType_Click" 
                                       Tag="{Binding}" 
                                       Margin="5" 
                                       Padding="10"
                                       HorizontalContentAlignment="Left">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding Icon}" 
                                                  FontSize="24" 
                                                  Margin="0,0,10,0"/>
                                        <StackPanel>
                                            <TextBlock Text="{Binding Name}" 
                                                      FontWeight="Bold"/>
                                            <TextBlock Text="{Binding Description}" 
                                                      FontSize="11" 
                                                      Foreground="Gray"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Button>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <!-- Step 2: 속성 설정 -->
            <ScrollViewer x:Name="Step2Panel" Visibility="Collapsed" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="객체 속성을 설정하세요:" 
                              FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>

                    <!-- 크기 설정 -->
                    <GroupBox Header="크기 (피트)" Margin="0,0,0,10">
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="60"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <TextBlock Text="너비:" Grid.Row="0" VerticalAlignment="Center"/>
                            <Slider x:Name="WidthSlider" Grid.Row="0" Grid.Column="1" 
                                   Minimum="1" Maximum="10" Value="3" 
                                   TickFrequency="0.5" IsSnapToTickEnabled="True" Margin="5,0"/>
                            <TextBlock x:Name="WidthText" Grid.Row="0" Grid.Column="2" 
                                      Text="3.0" VerticalAlignment="Center"/>

                            <TextBlock Text="깊이:" Grid.Row="1" VerticalAlignment="Center"/>
                            <Slider x:Name="LengthSlider" Grid.Row="1" Grid.Column="1" 
                                   Minimum="1" Maximum="10" Value="2" 
                                   TickFrequency="0.5" IsSnapToTickEnabled="True" Margin="5,0"/>
                            <TextBlock x:Name="LengthText" Grid.Row="1" Grid.Column="2" 
                                      Text="2.0" VerticalAlignment="Center"/>

                            <TextBlock Text="높이:" Grid.Row="2" VerticalAlignment="Center"/>
                            <Slider x:Name="HeightSlider" Grid.Row="2" Grid.Column="1" 
                                   Minimum="3" Maximum="10" Value="6" 
                                   TickFrequency="0.5" IsSnapToTickEnabled="True" Margin="5,0"/>
                            <TextBlock x:Name="HeightText" Grid.Row="2" Grid.Column="2" 
                                      Text="6.0" VerticalAlignment="Center"/>
                        </Grid>
                    </GroupBox>

                    <!-- 층수 (조건부) -->
                    <GroupBox x:Name="LayersGroup" Header="층수" Margin="0,0,0,10">
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="LayersSlider" 
                                   Minimum="1" Maximum="5" Value="3" 
                                   TickFrequency="1" IsSnapToTickEnabled="True"/>
                            <TextBlock x:Name="LayersText" Grid.Column="1" 
                                      Text="3" VerticalAlignment="Center"/>
                        </Grid>
                    </GroupBox>

                    <!-- 온도 (조건부) -->
                    <GroupBox x:Name="TemperatureGroup" Header="온도 (°C)" Margin="0,0,0,10">
                        <Grid Margin="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="TemperatureSlider" 
                                   Minimum="-20" Maximum="10" Value="4" 
                                   TickFrequency="1" IsSnapToTickEnabled="True"/>
                            <TextBlock x:Name="TemperatureText" Grid.Column="1" 
                                      Text="4°C" VerticalAlignment="Center"/>
                        </Grid>
                    </GroupBox>

                    <!-- 방향 -->
                    <GroupBox Header="배치 방향" Margin="0,0,0,10">
                        <StackPanel Orientation="Horizontal" Margin="5">
                            <RadioButton x:Name="HorizontalRadio" Content="가로" 
                                       IsChecked="True" Margin="0,0,20,0"/>
                            <RadioButton x:Name="VerticalRadio" Content="세로"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- 카테고리 -->
                    <GroupBox Header="카테고리 코드" Margin="0,0,0,10">
                        <ComboBox x:Name="CategoryCombo" Margin="5">
                            <ComboBoxItem Content="GEN - 일반" IsSelected="True"/>
                            <ComboBoxItem Content="BEVERAGE - 음료"/>
                            <ComboBoxItem Content="SNACK - 스낵"/>
                            <ComboBoxItem Content="FROZEN - 냉동식품"/>
                            <ComboBoxItem Content="DAIRY - 유제품"/>
                            <ComboBoxItem Content="PRODUCE - 신선식품"/>
                        </ComboBox>
                    </GroupBox>
                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!-- 버튼 -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" 
                    HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button x:Name="BackButton" Content="이전" Width="80" Height="30" 
                   Margin="0,0,10,0" Click="BackButton_Click" Visibility="Collapsed"/>
            <Button x:Name="NextButton" Content="다음" Width="80" Height="30" 
                   Margin="0,0,10,0" Click="NextButton_Click" IsEnabled="False"/>
            <Button x:Name="CancelButton" Content="취소" Width="80" Height="30" 
                   Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>